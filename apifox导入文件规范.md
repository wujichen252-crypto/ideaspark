## ğŸ’ åŸºäºè‡ªå®šä¹‰æ¥å£çš„ Apifox è§„èŒƒè°ƒæ•´



æ ¸å¿ƒæ€æƒ³ï¼š**å°†èµ„æºæ ‡è¯†ç¬¦ï¼ˆIDï¼‰ä» Path è½¬ç§»åˆ° Query æˆ– Body ä¸­**ï¼Œå¹¶æ ¹æ® HTTP æ–¹æ³•çš„è¯­ä¹‰æ¥ç¡®å®šæœ€ä½³ä½ç½®ã€‚



### 1. ğŸ” GET æ–¹æ³•ï¼ˆæŸ¥è¯¢/è·å–èµ„æºè¯¦æƒ…/åˆ—è¡¨ï¼‰



| **è§„èŒƒé¡¹ç›®**    | **Apifox å®è·µå»ºè®®**                                          | **æµ‹è¯•ä¾¿åˆ©æ€§è€ƒé‡**                                           |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **Path è®¾è®¡**   | ä½¿ç”¨é›†åˆè·¯å¾„ï¼Œä¸å« IDã€‚ä¾‹å¦‚ï¼š`/api/v1/users/get_detail` æˆ– `/api/v1/user_details/` | URL ç®€æ´ï¼Œä¸æš´éœ² IDã€‚                                        |
| **ID å‚æ•°ä½ç½®** | **Query** å‚æ•°ã€‚ä¾‹å¦‚ï¼š`?user_id=123`ã€‚                       | **æœ€æ–¹ä¾¿**ï¼šGET è¯·æ±‚çš„æ ‡å‡†åšæ³•ã€‚Apifox ä¸­å¯ç›´æ¥åœ¨ Query æ ç›®ç¼–è¾‘ IDã€‚ |
| **æ‰¹é‡æŸ¥è¯¢**    | ä»ä½¿ç”¨ Queryï¼Œä¾‹å¦‚ï¼š`?user_ids=1,2,3`ã€‚                      | æ–¹ä¾¿æµ‹è¯•äººå‘˜ä¸€æ¬¡æ€§è¾“å…¥å¤šä¸ª ID è¿›è¡Œæ‰¹é‡æµ‹è¯•ã€‚                 |
| **æˆåŠŸå“åº”**    | **å¿…é¡»** åœ¨ **æˆåŠŸç”¨ä¾‹ (200)** ä¸­ï¼Œå±•ç¤ºæ­£ç¡®çš„ ID è¿”å›å€¼ã€‚    |                                                              |



### 2. ğŸ“ POST æ–¹æ³•ï¼ˆåˆ›å»ºèµ„æºï¼‰



**ä¸æ ‡å‡† RESTful ä¿æŒä¸€è‡´ï¼Œæ— éœ€ç‰¹æ®Šè°ƒæ•´ã€‚**

| **è§„èŒƒé¡¹ç›®**    | **Apifox å®è·µå»ºè®®**                                          | **æµ‹è¯•ä¾¿åˆ©æ€§è€ƒé‡**                                           |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **Path è®¾è®¡**   | é›†åˆè·¯å¾„ã€‚ä¾‹å¦‚ï¼š`/api/v1/users/` æˆ– `/api/v1/user_create/`ã€‚ |                                                              |
| **ID å‚æ•°ä½ç½®** | **Body - application/json**ã€‚ID æ˜¯ç”±åç«¯ç”Ÿæˆï¼Œä¸åº”å‡ºç°åœ¨è¯·æ±‚ä¸­ï¼ˆé™¤éæ˜¯å®¢æˆ·ç«¯æŒ‡å®šçš„ä¸šåŠ¡ IDï¼‰ã€‚ | å¦‚æœéœ€è¦ä¼ é€’çˆ¶èµ„æºçš„ IDï¼ˆä¾‹å¦‚ `åˆ›å»ºè®¢å•` éœ€è¦ `user_id`ï¼‰ï¼Œå°†å…¶ä½œä¸º JSON Body çš„ä¸€ä¸ªå­—æ®µä¼ é€’ã€‚ |



### 3. ğŸ”„ PUT/PATCH æ–¹æ³•ï¼ˆä¿®æ”¹/æ›´æ–°èµ„æºï¼‰



è¿™æ˜¯è°ƒæ•´çš„å…³é”®ç‚¹ï¼Œèµ„æºæ ‡è¯†ç¬¦ ID éœ€è¦ä» Path è½¬ç§»åˆ° Body ä¸­ã€‚

| **è§„èŒƒé¡¹ç›®**    | **Apifox å®è·µå»ºè®®**                                          | **æµ‹è¯•ä¾¿åˆ©æ€§è€ƒé‡**                                           |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **Path è®¾è®¡**   | ä½¿ç”¨é›†åˆè·¯å¾„ã€‚ä¾‹å¦‚ï¼š`/api/v1/user_update/` æˆ– `/api/v1/users/update_profile`ã€‚ |                                                              |
| **ID å‚æ•°ä½ç½®** | **Body - application/json**ã€‚å°† ID ä½œä¸º JSON Body çš„**ç¬¬ä¸€ä¸ª**å¿…ä¼ å­—æ®µï¼ˆä¾‹å¦‚ï¼š`{"user_id": 123, "name": "new name"}`ï¼‰ã€‚ | **æ¸…æ™°æ˜ç¡®**ï¼šID ä¸è¦æ›´æ–°çš„æ•°æ®æ”¾åœ¨ä¸€èµ·ï¼Œæ›´åƒä¸€ä¸ªå®Œæ•´çš„â€œæ›´æ–°å¯¹è±¡â€ã€‚ |
| **æ‰¹é‡æ›´æ–°**    | Body ä¸­åŒ…å«ä¸€ä¸ª ID åˆ—è¡¨å’Œè¦æ›´æ–°çš„å­—æ®µã€‚ä¾‹å¦‚ï¼š`{"user_ids": [1, 2, 3], "status": "active"}`ã€‚ | éå¸¸é€‚åˆ Django/DRF çš„æ‰¹é‡æ“ä½œè§†å›¾ï¼Œæ–¹ä¾¿æµ‹è¯•äººå‘˜è®¾è®¡æ‰¹é‡ç”¨ä¾‹ã€‚ |
| **å­—æ®µè§„èŒƒ**    | **å¿…é¡»** åœ¨ Apifox çš„ Body å‚æ•°å®šä¹‰ä¸­ï¼Œå°† `user_id` å­—æ®µçš„**æè¿°**æ¸…æ™°æ ‡è®°ä¸ºï¼š**â€œå¾…æ›´æ–°èµ„æºçš„å”¯ä¸€æ ‡è¯†ç¬¦â€**ã€‚ |                                                              |



### 4. ğŸ—‘ï¸ DELETE æ–¹æ³•ï¼ˆåˆ é™¤èµ„æºï¼‰



ä¸ GET ç±»ä¼¼ï¼ŒID æ”¾åœ¨ Path ä¸æ–¹ä¾¿æ—¶ï¼Œåº”æ”¾åœ¨ Query æˆ– Body ä¸­ã€‚

| **è§„èŒƒé¡¹ç›®**    | **Apifox å®è·µå»ºè®®**                                          | **æµ‹è¯•ä¾¿åˆ©æ€§è€ƒé‡**                                           |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **Path è®¾è®¡**   | é›†åˆè·¯å¾„ã€‚ä¾‹å¦‚ï¼š`/api/v1/users/delete/`ã€‚                    |                                                              |
| **ID å‚æ•°ä½ç½®** | **Body - application/json**ï¼Œä¼ é€’ä¸€ä¸ª ID åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼š`{"user_ids": [123, 456]}`ã€‚ | **æœ€æ¨è**ï¼šåˆ é™¤æ“ä½œé€šå¸¸éœ€è¦æ”¯æŒ**æ‰¹é‡åˆ é™¤**ï¼ŒJSON Body æœ€çµæ´»ã€‚ |
| **å•ä¸ªåˆ é™¤**    | ä¹Ÿå¯ä»¥ä½¿ç”¨ JSON Bodyï¼ŒåªåŒ…å«ä¸€ä¸ª IDã€‚                        | ç»Ÿä¸€äº†å•åˆ å’Œæ‰¹é‡åˆ é™¤çš„æ¥å£ç»“æ„ï¼Œæ–¹ä¾¿å‰åç«¯å’Œæµ‹è¯•äººå‘˜ç†è§£ã€‚   |
| **æˆåŠŸå“åº”**    | æ¨èè¿”å› `200 OK`ï¼Œå¹¶åœ¨ Body ä¸­è¿”å›å—å½±å“çš„è¡Œæ•°ï¼Œè€Œé `204 No Content`ï¼ˆæ›´ä¾¿äºæµ‹è¯•æ–­è¨€ï¼‰ã€‚ |                                                              |



### âœ… æ€»ç»“å¯¹ Apifox æµ‹è¯•çš„ä¼˜åŠ¿



å³ä½¿æ‚¨ä¸å°† ID æ”¾åœ¨è·¯ç”±ä¸­ï¼Œéµå¾ªä¸Šè¿°è§„èŒƒï¼Œå¯¹æµ‹è¯•äººå‘˜ä»æœ‰å·¨å¤§ä¾¿åˆ©ï¼š

1. **å‚æ•°ä½ç½®ä¸€è‡´æ€§**ï¼šGET ç”¨ Queryï¼ŒPOST/PUT/DELETE ç”¨ Bodyï¼Œæ˜“äºéµå¾ªã€‚
2. **æ‰¹é‡æ“ä½œä¾¿åˆ©**ï¼šé€šè¿‡å°† ID è®¾è®¡ä¸º Body ä¸­çš„æ•°ç»„ï¼Œæµ‹è¯•äººå‘˜å¯ä»¥è½»æ¾è®¾è®¡**æ‰¹é‡æµ‹è¯•ç”¨ä¾‹**ã€‚
3. **è°ƒè¯•ç”¨ä¾‹æ¸…æ™°**ï¼šåœ¨ Apifox çš„ **è°ƒè¯•ç”¨ä¾‹** ä¸­ï¼Œæ— è®ºæ˜¯ Query è¿˜æ˜¯ Body å‚æ•°ï¼Œéƒ½ä¼šè¢«æ¸…æ™°åœ°ä¿å­˜å’Œå±•ç¤ºã€‚
4. **æ¨¡å‹å¼•ç”¨**ï¼šå¯¹äº Body ä¸­çš„ ID å’Œæ•°æ®ï¼Œä»å¯å¼•ç”¨æ‚¨å®šä¹‰çš„ **æ•°æ®æ¨¡å‹**ï¼Œç¡®ä¿å­—æ®µæè¿°å’Œç±»å‹æ­£ç¡®ã€‚

---

## ğŸ“Š ç¤ºä¾‹ä¸è§„èŒƒè¡¥å……ï¼šæŠ¥åå®¡æ ¸ç»Ÿè®¡æ¥å£ï¼ˆGETï¼‰

ä¸ºæ»¡è¶³â€œå¤æ‚çš„ç­›é€‰ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰åº”ç‹¬ç«‹ä¸ºç‰¹å®šæ¥å£â€çš„è§„èŒƒè¦æ±‚ï¼Œæœ¬é¡¹ç›®æ–°å¢ç»Ÿè®¡æŸ¥è¯¢æ¥å£ï¼Œä¾›ç”¨æˆ·æŸ¥çœ‹è‡ªèº«æŠ¥åå®¡æ ¸æƒ…å†µï¼Œå¹¶æŒ‰ç»„åˆ«ï¼ˆprimary/middleï¼‰åˆ†ç±»ç»Ÿè®¡ã€‚

### 1. æ¥å£å®šä¹‰ï¼ˆApifox å¯¼å…¥ï¼‰

- è·¯å¾„ï¼š`/api/sign/applications/stats/`
- æ–¹æ³•ï¼š`GET`
- æ ‡ç­¾ï¼š`Sign`
- è®¤è¯ï¼š`Bearer JWT`
- å‚æ•°ä½ç½®ï¼š`Query`
- è®¾è®¡ä¾æ®ï¼šéµå¾ªæœ¬è§„èŒƒçš„ GET è§„åˆ™ï¼ˆé›†åˆè·¯å¾„ã€ä¸å« IDï¼›å‚æ•°é€šè¿‡ Query ä¼ é€’ï¼‰ã€‚

### 2. Query å‚æ•°è¯´æ˜

- `start_date`ï¼šå­—ç¬¦ä¸²ï¼ˆ`yyyy-MM-dd`ï¼‰ï¼Œå¯é€‰ï¼›ç»Ÿè®¡èµ·å§‹æ—¥æœŸã€‚
- `end_date`ï¼šå­—ç¬¦ä¸²ï¼ˆ`yyyy-MM-dd`ï¼‰ï¼Œå¯é€‰ï¼›ç»Ÿè®¡ç»“æŸæ—¥æœŸã€‚
- `groups`ï¼šæ•°ç»„ï¼ˆå–å€¼ï¼š`primary`ã€`middle`ï¼‰ï¼Œå¯é€‰ï¼›ç»Ÿè®¡çš„ç»„åˆ«åˆ—è¡¨ï¼Œé»˜è®¤ç»Ÿè®¡ä¸¤ç»„ã€‚
  - Apifox å»ºè®®ï¼š`style=form`, `explode=true`ï¼Œåœ¨ Query æ ä»¥å¤šä¸ªåŒåå‚æ•°è¾“å…¥ï¼Œå¦‚ï¼š`groups=primary&groups=middle`ã€‚
- `include_overall`ï¼šå¸ƒå°”ï¼Œé»˜è®¤ `true`ï¼›æ˜¯å¦åŒ…å«æ€»ä½“ç»Ÿè®¡ï¼ˆoverallï¼‰ã€‚

### 3. å“åº”æ¨¡å‹ï¼ˆç»„ä»¶å¼•ç”¨ï¼‰

- `SignApplicationStatsSummary`ï¼šç»Ÿè®¡æ‘˜è¦æ¨¡å‹ï¼ŒåŒ…å«ï¼š
  - `total`ï¼ˆæŠ¥åæ€»æ•°ï¼‰ã€`rejected`ï¼ˆå·²é©³å›ï¼‰ã€`pending`ï¼ˆå¾…å®¡æ ¸ï¼‰ã€`approved`ï¼ˆå·²é€šè¿‡ï¼‰ã€‚
- `SignApplicationStatsResponse`ï¼šæ•´ä½“å“åº”æ¨¡å‹ï¼ŒåŒ…å«ï¼š
  - `overall`ï¼ˆæ€»ä½“ç»Ÿè®¡ï¼Œéµå¾ª `include_overall`ï¼‰
  - `groups.primary`ï¼ˆå°å­¦ç»„ç»Ÿè®¡ï¼Œå¼•ç”¨ `SignApplicationStatsSummary`ï¼‰
  - `groups.middle`ï¼ˆä¸­å­¦ç»„ç»Ÿè®¡ï¼Œå¼•ç”¨ `SignApplicationStatsSummary`ï¼‰

> è¯´æ˜ï¼šä»¥ä¸Šæ¨¡å‹å·²åœ¨ `apifox_import_full.json` çš„ `components.schemas` ä¸­å®šä¹‰ï¼Œè·¯å¾„å·²åœ¨ `paths` ä¸­æ–°å¢ã€‚

### 4. æˆåŠŸå“åº”ç¤ºä¾‹ï¼ˆ200ï¼‰

```json
{
  "overall": { "total": 18, "rejected": 3, "pending": 5, "approved": 10 },
  "groups": {
    "primary": { "total": 10, "rejected": 2, "pending": 3, "approved": 5 },
    "middle": { "total": 8, "rejected": 1, "pending": 2, "approved": 5 }
  }
}
```

### 5. è°ƒè¯•ç¤ºä¾‹ï¼ˆApifox ä¸ Windows cURLï¼‰

- Apifox Query ç¤ºä¾‹ï¼š
  - `start_date=2025-01-01`
  - `end_date=2025-12-31`
  - `groups=primary`
  - `groups=middle`
  - `include_overall=true`

- å®Œæ•´è¯·æ±‚ URL ç¤ºä¾‹ï¼š
  - `http://localhost:8000/api/sign/applications/stats/?start_date=2025-01-01&end_date=2025-12-31&groups=primary&groups=middle&include_overall=true`

- Windows `curl.exe` ç¤ºä¾‹ï¼š

```powershell
curl.exe -G \
  -H "Authorization: Bearer <your_jwt_token>" \
  --data-urlencode "start_date=2025-01-01" \
  --data-urlencode "end_date=2025-12-31" \
  --data-urlencode "groups=primary" \
  --data-urlencode "groups=middle" \
  --data-urlencode "include_overall=true" \
  "http://localhost:8000/api/sign/applications/stats/"
```

### 6. ç»Ÿè®¡å£å¾„ä¸è§„èŒƒä¸€è‡´æ€§

- æŒ‰ç”¨æˆ·ç»´åº¦ç»Ÿè®¡ï¼šé»˜è®¤ç»Ÿè®¡â€œå½“å‰è®¤è¯ç”¨æˆ·â€çš„æŠ¥åæƒ…å†µã€‚
- åˆ†ç»„ç»´åº¦ï¼š`performance_group`ï¼ˆå°å­¦ç»„ `primary`ã€ä¸­å­¦ç»„ `middle`ï¼‰ã€‚
- æŒ‡æ ‡å£å¾„ï¼š
  - `total`ï¼šç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æŠ¥åæ€»æ•°ã€‚
  - `rejected`ï¼šçŠ¶æ€ä¸º `rejected` çš„æ•°é‡ã€‚
  - `pending`ï¼šçŠ¶æ€ä¸º `pending` çš„æ•°é‡ã€‚
  - `approved`ï¼šçŠ¶æ€ä¸º `approved` çš„æ•°é‡ã€‚
- è§„èŒƒä¸€è‡´æ€§ï¼šè¯¥æ¥å£ä¸ºâ€œå¤æ‚ç­›é€‰â€çš„ç‹¬ç«‹ç‰¹å®šæ¥å£ï¼Œç¬¦åˆã€ŠæŸ¥è¯¢æ¥å£è§„èŒƒ.mdã€‹ä¸æœ¬æ–‡ä»¶çš„ GET è§„åˆ™ã€‚

### 7. æ‰©å±•å»ºè®®ï¼ˆå¯é€‰ï¼‰

- ç®¡ç†å‘˜è§†è§’ï¼šå¦‚éœ€ç»Ÿè®¡æŒ‡å®šç”¨æˆ·ï¼Œå¯å¢è®¾ `user_id` Query å‚æ•°ï¼Œå¹¶åœ¨æƒé™ä¸ŠåŒºåˆ†æ™®é€šç”¨æˆ·ä¸ç®¡ç†å‘˜ã€‚
- æ€§èƒ½ä¼˜åŒ–ï¼šå»ºè®®ä¸º `applicant`ã€`status`ã€`performance_group`ã€`create_time` å»ºç«‹å¤åˆç´¢å¼•ï¼›ç»Ÿè®¡æŸ¥è¯¢ä½¿ç”¨èšåˆï¼ˆannotate/countï¼‰ã€‚